<div id="title-div">
  <h1 mat-dialog-title>Manage categories</h1>
  <button mat-icon-button (click)="onNoClick()" id="exit">
    <mat-icon>close</mat-icon>
  </button>
</div>
<div class="flex-div">
  <div class="form-div">
    <form [formGroup]="form">
      <mat-form-field>
        <mat-label>{{labelName}}</mat-label>
        <input type="text" matInput formControlName="category" cdkFocusInitial #categoryInput />
      </mat-form-field>
      <button *ngIf="showSubmit; else showUpdate" mat-button (click)="addCategory()">Submit</button>
      <ng-template #showUpdate>
        <span class="edit-btns">
          <button mat-button (click)="editCategory(form.value.category)">Update</button>
          <button mat-button (click)="dropEdit()">Discard</button>
        </span>
      </ng-template>
    </form>
  </div>
  <mat-divider></mat-divider>
  <div class="scroll-div" *ngIf="(data$ | async) as data">
    <mat-card *ngFor="let category of data.spendingList">
      <p class="ellipsis-text" [matTooltip]="category.name" appShowIfTruncated>{{category.name}}</p>
      <span class="span-icons">
        <button [disabled]="!showSubmit && category.name == oldCategory" mat-icon-button
          (click)="openDialogDelWarn(category.name)">
          <mat-icon [color]="category.name !== oldCategory ? 'warn' : ''">delete</mat-icon>
        </button>
        <button mat-icon-button (click)="changeInputToEdit(category.name)">
          <mat-icon color="primary">edit</mat-icon>
        </button>
      </span>
    </mat-card>
  </div>

</div>